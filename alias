#Various aliases for Bash

#To use alias after sudo
alias sudo='sudo '

#To use aliases after man
alias man='man '

#REALLY SHORT
alias c='cd '
alias f='find . |grep '
alias h='history|grep '
alias n='nano '
alias p='ps aux |grep '
alias q='exit'
alias s='sudo '
alias x='exit'
alias t='todo.sh '

#Shorter
alias clc=' reset'
alias cls=' reset; ls'
alias sgrep='grep -A 3 -B 3 '
alias ncm='ncmpcpp'
alias pac='pacman '
alias ev='evince '

#Default options
alias mkdir='mkdir -p -v'
alias gcc='gcc -fdiagnostics-color=always -Wall '
alias g++='g++ -fdiagnostics-color=always -Wall '
alias powertop='sudo powertop '
alias toilet='toilet -f term '
alias grep='grep --color=auto '
alias fgrep='fgrep --color=auto '
alias egrep='egrep --color=auto '
# make less accept color codes and re-output them
alias less='less -R'

#Substitute programs
if [ -x /usr/bin/vendor_perl/ls++ ]; then
	alias ls='ls++ --potsf -p'
	alias l='ls++ --ptsf -p'
else
	alias ls='ls --color=force -phl'
	alias l='ls --color=force -phlgo'
fi

#Script-Like aliases
alias view_webcam='mpv /dev/video0 --vf=mirror --vf=eq=1.2:1.5:0.0:1.1:1.2:1.0:1.1'
alias urz='ssh mb410@lts02.urz.uni-heidelberg.de'
alias robustirc='$GOPATH/bin/robustirc-bridge -network=robustirc.net &!'
alias ubert='ssh mrtukkin@atria.uberspace.de'
alias uberl='ssh mrtukkin@atria.uberspace.de'

function pdflatex() {
	/usr/bin/pdflatex "$@"
	rm -f ./*aux
	rm -f ./*log
	rm -f ./*toc
}

function za() {
	exec zathura "$@" &> /dev/null & disown
}

function o() {
	for file in "$@"; do
		exec xdg-open "$file" &> /dev/null & disown
	done
}

#drive
alias d='drive'
alias dpush='drive push --ignore-name-clashes .'

#git
function current_branch() {
	ref=$(git symbolic-ref HEAD 2> /dev/null) || \
	ref=$(git rev-parse --short HEAD 2> /dev/null) || return
	echo ${ref#refs/heads/}
}

function current_repository() {
	ref=$(git symbolic-ref HEAD 2> /dev/null) || \
	ref=$(git rev-parse --short HEAD 2> /dev/null) || return
	echo $(git remote -v | cut -d':' -f 2)
}

alias g='git'
alias gstat='git status'
alias gd='git diff'
alias gc='git commit -v'
alias gcmsg='git commit -m'
alias ga='git add'
alias gpull='git pull'
alias gpush='git push'
alias ggpull='git pull origin $(current_branch)'
alias ggpush='git push origin $(current_branch)'

#Include compdef for the aliases, when shell is zsh
if ps -p $$ | grep zsh &>/dev/null; then
	compdef s=sudo
	compdef c=cd
	type pacman &> /dev/null && compdef pac=pacman
	compdef g=git
	type evince &> /dev/null && compdef ev=evince
	type evince &> /dev/null && compdef za=evince
	compdef _git gstat=git-status
	compdef _git gd=git-diff
	compdef _git gc=git-commit
	compdef _git gcmsg=git-commit
	compdef _git ga='git-add'
	compdef _git gpull=git-pull
	compdef _git gpush=git-push
fi
