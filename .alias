#Various aliases for Bash

#To use alias after sudo
alias sudo='sudo '

#To use aliases after man
alias man='man '

#REALLY SHORT
alias c='cd'
alias f="find . |grep "
alias h="history|grep "
alias n='nano'
alias p=" ps aux |grep "
alias q='exit'
alias s='sudo '
alias x='exit'

#Shorter
alias clc=' reset'
alias cls=' reset; ls'
alias sgrep="grep -A 3 -B 3 "
alias ncm="ncmpcpp"
alias pac="pacman "

alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias ......="cd ../../../../.."

#Default options
alias gcc='gcc -fdiagnostics-color=always'
alias feh='feh --scale-down -d -Z -B black -.'
alias powertop='sudo powertop'
alias toilet='toilet -f term'
alias head='head -n $((${LINES:-`tput lines 2>/dev/null||echo -n 12`} - 2))'

#Substitute programs
alias more='less'
if [ -x /usr/bin/vendor_perl/ls++ ]; then
	alias ls=' ls++ --potsf -p'
	alias l=' ls++ --ptsf -p'
else
	alias ls=' ls --color=force -phl'
	alias l=' ls --color=force -phlgo'
fi

#Script-Like aliases
alias view_webcam='mpv av://video4linux2:/dev/video0'
alias restart_bar='pkill lemonbar; bar'
alias urz='ssh mb410@lts02.urz.uni-heidelberg.de'

#git
function current_branch() {
	ref=$(git symbolic-ref HEAD 2> /dev/null) || \
	ref=$(git rev-parse --short HEAD 2> /dev/null) || return
	echo ${ref#refs/heads/}
}
      
function current_repository() {
	ref=$(git symbolic-ref HEAD 2> /dev/null) || \
	ref=$(git rev-parse --short HEAD 2> /dev/null) || return
	echo $(git remote -v | cut -d':' -f 2)
}

alias g='git'
alias gstat='git status'
alias gd='git diff'
alias gc='git commit -v'
alias gcmsg='git commit -m'
alias ga="git add"
alias gpull='git pull'
alias gpush='git push'
alias ggpull='git pull origin $(current_branch)'
alias ggpush='git push origin $(current_branch)'

#Include compdef for the aliases, when shell is zsh
if ps -p $$ | grep zsh &>/dev/null; then
	compdef s=sudo
	compdef pac=pacman
	compdef g=git
	compdef _git gstat=git-status
	compdef _git gd=git-diff
	compdef _git gc=git-commit
	compdef _git gcmsg=git-commit
	compdef _git ga="git-add"
	compdef _git gpull=git-pull
	compdef _git gpush=git-push
fi
